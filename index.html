<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Royal Diamond - Classic Edition</title>
    <script src='//libtl.com/sdk.js' data-zone='10343752' data-sdk='show_10343752'></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&family=Orbitron:wght@900&display=swap');
        body { background: radial-gradient(circle, #1e3a8a 0%, #0f172a 100%); color: white; font-family: 'Poppins', sans-serif; min-height: 100vh; overflow: hidden; margin: 0; }
        
        /* Floating Spin Icon (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã) */
        .top-icons { position: fixed; top: 20px; right: 15px; display: flex; flex-direction: column; gap: 12px; z-index: 1000; }
        .float-btn { width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; border: 2px solid rgba(255,255,255,0.2); backdrop-filter: blur(10px); cursor: pointer; background: linear-gradient(45deg, #fbbf24, #d97706); animation: iconSpin 10s linear infinite; }
        @keyframes iconSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤) */
        .glass-card { background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px; margin: 15px; text-align: center; }

        /* ‡¶®‡¶ü ‡¶ï‡ßü‡ßá‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞ (‡¶Æ‡¶æ‡¶á‡¶®‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü) */
        .coin-container { position: relative; width: 250px; height: 250px; margin: 40px auto; display: flex; align-items: center; justify-content: center; }
        .main-coin { width: 100%; height: 100%; background: radial-gradient(circle, #fbbf24 0%, #b45309 100%); border-radius: 50%; border: 10px solid rgba(255,255,255,0.15); box-shadow: 0 0 40px rgba(251, 191, 36, 0.5); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.05s; user-select: none; }
        .main-coin:active { transform: scale(0.92); }

        /* Floating +1 Text */
        .floating-text { position: absolute; color: white; font-size: 32px; font-weight: 900; pointer-events: none; animation: floatUp 0.7s ease-out forwards; font-family: 'Orbitron'; z-index: 100; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-130px); } }

        /* Navigation (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã) */
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(15, 23, 42, 0.95); display: flex; justify-content: space-around; padding: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
        .nav-item { font-size: 11px; color: #94a3b8; text-align: center; flex: 1; cursor: pointer; }
        .nav-item.active { color: #fbbf24; font-weight: bold; }

        .tab-content { display: none; height: 100vh; padding-top: 40px; }
        .active-tab { display: block; }
    </style>
</head>
<body>

<div class="top-icons">
    <div onclick="switchTab('spin-tab')" class="float-btn">üé°</div>
</div>

<div id="home-tab" class="tab-content active-tab">
    <div class="text-center mt-4">
        <h1 class="text-2xl font-black text-yellow-500 italic tracking-widest">ROYAL DIAMOND</h1>
    </div>

    <div class="glass-card">
        <p class="text-gray-400 text-[10px] uppercase">Main Balance</p>
        <p class="text-4xl font-black text-white" style="font-family: 'Orbitron';">üíé <span id="balance">0</span></p>
    </div>

    <div class="coin-container">
        <div id="tapper-btn" class="main-coin">
            <span class="text-8xl">üíé</span>
        </div>
    </div>

    <p class="text-center text-gray-500 text-xs mt-4">Tap on diamond to earn points</p>
</div>

<div id="spin-tab" class="tab-content">
    <div class="glass-card mt-10">
        <h2 class="text-yellow-500 font-black mb-6 italic uppercase">Lucky Wheel</h2>
        <canvas id="wheel-canvas" class="mx-auto rounded-full border-4 border-yellow-500" width="260" height="260"></canvas>
        <button onclick="handleSpin()" class="mt-8 bg-yellow-500 text-black font-black py-4 px-12 rounded-full uppercase shadow-xl w-full">SPIN NOW</button>
        <button onclick="switchTab('home-tab')" class="mt-4 text-gray-400 text-xs">Back to Home</button>
    </div>
</div>

<nav class="nav-bar">
    <div onclick="switchTab('home-tab', this)" class="nav-item active">üè†<br>Home</div>
    <div onclick="alert('Bonus Added!')" class="nav-item">üéÅ<br>Bonus</div>
    <div onclick="alert('Coming Soon')" class="nav-item">üí≥<br>Wallet</div>
</nav>

<script>
// Firebase Setup
const firebaseConfig = { apiKey: "AIzaSyA-2VRyhIktuhWesvHRa2LkqA@L3g_fDU0", authDomain: "royaldiamondbot.firebaseapp.com", databaseURL: "https://royaldiamondbot-default-rtdb.firebaseio.com", projectId: "royaldiamondbot", storageBucket: "royaldiamondbot.firebasestorage.app", messagingSenderId: "156914195366", appId: "1:156914195366:web:e5ab56df62ecbf90550d67" };
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let userId = localStorage.getItem('user_uid') || "RD_" + Math.floor(Math.random() * 90000);
localStorage.setItem('user_uid', userId);

let bal = 0;

// Data Sync
db.ref('users/' + userId).on('value', snap => {
    const data = snap.val() || { balance: 0 };
    bal = data.balance || 0;
    document.getElementById('balance').innerText = Math.floor(bal).toLocaleString();
});

// Tapper Logic (‡¶®‡¶ü ‡¶ï‡ßü‡ßá‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤)
const tapper = document.getElementById('tapper-btn');
tapper.addEventListener('touchstart', (e) => {
    e.preventDefault();
    bal += 1; // ‡¶è‡¶ï ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡ßß ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü
    document.getElementById('balance').innerText = Math.floor(bal).toLocaleString();
    createPopup(e.touches[0].clientX, e.touches[0].clientY);
    db.ref('users/' + userId).update({ balance: bal });
});

function createPopup(x, y) {
    const el = document.createElement('div');
    el.className = 'floating-text';
    el.innerText = "+1";
    el.style.left = `${x}px`;
    el.style.top = `${y}px`;
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 700);
}

function switchTab(id, el) {
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active-tab'));
    document.getElementById(id).classList.add('active-tab');
    if(el) {
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }
}

// Wheel Setup (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã)
const canvas = document.getElementById('wheel-canvas'); const ctx = canvas.getContext('2d');
const prizes = [500, 10, 50, 0, 100, 20, 200, 5];
const colors = ["#fbbf24", "#1e293b", "#fbbf24", "#1e293b", "#fbbf24", "#1e293b", "#fbbf24", "#1e293b"];
function drawWheel() {
    const arc = (2 * Math.PI) / 8;
    for (let i = 0; i < 8; i++) {
        ctx.fillStyle = colors[i]; ctx.beginPath(); ctx.moveTo(130, 130); ctx.arc(130, 130, 130, i * arc, (i + 1) * arc); ctx.fill();
        ctx.save(); ctx.fillStyle = "white"; ctx.font = "bold 12px Poppins"; ctx.translate(130 + Math.cos(i * arc + arc/2) * 85, 130 + Math.sin(i * arc + arc/2) * 85);
        ctx.rotate(i * arc + arc/2 + Math.PI/2); ctx.fillText(prizes[i], -10, 0); ctx.restore();
    }
} drawWheel();
let rotation = 0;
function handleSpin() {
    rotation += Math.floor(Math.random() * 360) + 3600;
    canvas.style.transform = `rotate(${rotation}deg)`;
}
</script>
</body>
</html>

